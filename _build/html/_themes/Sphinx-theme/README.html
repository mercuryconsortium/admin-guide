

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sphinx themes based on readthedocs.org &mdash; MERCURY HPC Administrator&#39;s Guide 0.0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="MERCURY HPC Administrator&#39;s Guide 0.0.1 documentation" href="../../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> MERCURY HPC Administrator's Guide
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../docs/marcy-hardware.html">Marcy Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/skylight-hardware.html">Skylight Hardware</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MERCURY HPC Administrator's Guide</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Sphinx themes based on readthedocs.org</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/_themes/Sphinx-theme/README.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sphinx-themes-based-on-readthedocs-org">
<h1>Sphinx themes based on readthedocs.org<a class="headerlink" href="#sphinx-themes-based-on-readthedocs-org" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Stanford theme: <code class="docutils literal notranslate"><span class="pre">stanford_theme</span></code></p></li>
<li><p>Updated RTD theme: <code class="docutils literal notranslate"><span class="pre">neo_rtd_theme</span></code></p></li>
</ul>
<div class="section" id="modification">
<h2>Modification<a class="headerlink" href="#modification" title="Permalink to this headline">¶</a></h2>
<div class="section" id="design">
<h3>Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h3>
<p>Online demo of the theme:
<a class="reference external" href="https://linxifan.github.io/Sphinx-demo/">linxifan.github.io/Sphinx-demo/</a></p>
<p>Stanford web color specification:
<a class="reference external" href="https://identity.stanford.edu/overview/color.html">[1]</a> and
<a class="reference external" href="https://identity.stanford.edu/web-toolkit/color.html">[2]</a></p>
</div>
<div class="section" id="add-new-fonts">
<h3>Add new fonts<a class="headerlink" href="#add-new-fonts" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Edit <code class="docutils literal notranslate"><span class="pre">bower.json</span></code>, add <code class="docutils literal notranslate"><span class="pre">ubuntumono-googlefont</span></code> to dependency
list.</p></li>
<li><p>Edit <code class="docutils literal notranslate"><span class="pre">Gruntfile.js</span></code>, add font paths like the others.</p></li>
<li><p>Edit <code class="docutils literal notranslate"><span class="pre">sass/_theme_font_local.sass</span></code>, note that <code class="docutils literal notranslate"><span class="pre">font-weight:</span> <span class="pre">400</span></code>
corresponds to normal font while <code class="docutils literal notranslate"><span class="pre">700</span></code> correspoonds to bold.</p></li>
<li><p>Make sure the font files are copied to
<code class="docutils literal notranslate"><span class="pre">sphinx_theme/&lt;mytheme&gt;/static/fonts/</span></code></p></li>
</ol>
</div>
<div class="section" id="sass">
<h3>SASS<a class="headerlink" href="#sass" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bower_components/wyrm</span></code> contains the SASS for the original WYRM
core. You can override variables in it to use customized color.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sass/_theme_variables.sass</span></code> defines most of the colors.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sass/_theme_rst.sass</span></code> defines how to render any reStructuredText
file. All customizations are marked with <code class="docutils literal notranslate"><span class="pre">mydef</span></code> in the code
comment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sass/_theme_layout.css</span></code> defines how to render menu, navigation
bars, etc.</p></li>
</ul>
</div>
<div class="section" id="workflow">
<h3>Workflow<a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Work in <code class="docutils literal notranslate"><span class="pre">sass/</span></code> folder and Grunt will auto copy the generated files
into <code class="docutils literal notranslate"><span class="pre">test_theme</span></code></p></li>
<li><p>Once done, copy <code class="docutils literal notranslate"><span class="pre">sass/</span></code> to <code class="docutils literal notranslate"><span class="pre">sass_&lt;newtheme&gt;</span></code> and copy
<code class="docutils literal notranslate"><span class="pre">test_theme</span></code> to <code class="docutils literal notranslate"><span class="pre">sphinx_theme/&lt;newtheme&gt;</span></code> subdir.</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">sphinx_theme/__init__.py</span></code> to include the new theme.</p></li>
</ol>
<p>To modify existing theme:</p>
<ol class="arabic simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">./swap</span> <span class="pre">sass</span> <span class="pre">sass_neo_rtd</span></code> and work in <code class="docutils literal notranslate"><span class="pre">sass/</span></code> folder.
Changes will be reflected in <code class="docutils literal notranslate"><span class="pre">test_theme/</span></code></p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">./cptheme</span> <span class="pre">neo_rtd</span></code> to copy <code class="docutils literal notranslate"><span class="pre">test_theme/</span></code> files into
<code class="docutils literal notranslate"><span class="pre">sphinx_theme/neo_rtd_theme</span></code>.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">./swap</span> <span class="pre">sass</span> <span class="pre">sass_neo_rtd</span></code> again to restore the files.</p></li>
<li><p>Commit all changes.</p></li>
</ol>
</div>
<div class="section" id="modify-directives">
<h3>Modify directives<a class="headerlink" href="#modify-directives" title="Permalink to this headline">¶</a></h3>
<p>Directives like <code class="docutils literal notranslate"><span class="pre">.warning</span></code>, <code class="docutils literal notranslate"><span class="pre">.example</span></code>, can be added to
<code class="docutils literal notranslate"><span class="pre">sphinxcontrib-napolean</span></code>.</p>
<p>Currently support:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Style</p></th>
<th class="head"><p>Directives</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>info (blue)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.note,</span> <span class="pre">.seealso,</span> <span class="pre">.references</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>tip (green)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.tip,</span> <span class="pre">.hint,</span> <span class="pre">.example</span></code></p></td>
</tr>
<tr class="row-even"><td><p>warning (orange)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.warning,</span> <span class="pre">.caution,</span> <span class="pre">.attention,</span> <span class="pre">.admonition-todo</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>danger (red)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.danger,</span> <span class="pre">.error,</span> <span class="pre">.important</span></code></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Refer to <code class="docutils literal notranslate"><span class="pre">sphinxcontrib-napolean2/directives.py</span></code> for how to add new
directives.</p></li>
<li><p>Add new parser methods to <code class="docutils literal notranslate"><span class="pre">sphinxcontrib-napolean2/docstring.py</span></code>.
Refer to lines marked with ‘ADDED’.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">app.add_directive('example',</span> <span class="pre">ExampleDirective)</span></code> to <code class="docutils literal notranslate"><span class="pre">setup()</span></code>
function in <code class="docutils literal notranslate"><span class="pre">sphinxcontrib-napolean2/__init__.py</span></code></p></li>
<li><p>Modify <code class="docutils literal notranslate"><span class="pre">sass/_theme_rst.sass</span></code> to support the new directives in the
theme.</p></li>
<li><p>Original designs are located in <code class="docutils literal notranslate"><span class="pre">wyrm/sass/wyrm_core/_alert.sass</span></code></p></li>
</ul>
</div>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="via-package">
<h3>Via package<a class="headerlink" href="#via-package" title="Permalink to this headline">¶</a></h3>
<p>Download the package or add it to your <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install sphinx_theme
</pre></div>
</div>
<p>In your <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sphinx_theme</span>
<span class="n">html_theme</span> <span class="o">=</span> <span class="s2">&quot;stanford_theme&quot;</span>
<span class="n">html_theme_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">sphinx_theme</span><span class="o">.</span><span class="n">get_html_theme_path</span><span class="p">(</span><span class="s1">&#39;stanford-theme&#39;</span><span class="p">)]</span>

<span class="c1"># All available themes:</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sphinx_theme</span><span class="o">.</span><span class="n">THEME_LIST</span><span class="p">)</span>
<span class="c1"># &gt;&gt; [&#39;stanford_theme&#39;, &#39;neo_rtd_theme&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="via-git-or-download">
<h3>Via git or download<a class="headerlink" href="#via-git-or-download" title="Permalink to this headline">¶</a></h3>
<p>Symlink or subtree the <code class="docutils literal notranslate"><span class="pre">sphinx_theme/sphinx_theme</span></code> repository into
your documentation at <code class="docutils literal notranslate"><span class="pre">docs/_themes/sphinx_theme</span></code> then add the
following two settings to your Sphinx conf.py file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme</span> <span class="o">=</span> <span class="s2">&quot;stanford_theme&quot;</span>
<span class="n">html_theme_path</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;_themes/sphinx_theme&quot;</span><span class="p">,</span> <span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>You can configure different parts of the theme.</p>
<div class="section" id="project-wide-configuration">
<h3>Project-wide configuration<a class="headerlink" href="#project-wide-configuration" title="Permalink to this headline">¶</a></h3>
<p>The theme’s project-wide options are defined in the
<code class="docutils literal notranslate"><span class="pre">sphinx_theme/&lt;mytheme&gt;/theme.conf</span></code> file of this repository, and can
be defined in your project’s <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> via <code class="docutils literal notranslate"><span class="pre">html_theme_options</span></code>. For
example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;collapse_navigation&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s1">&#39;display_version&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s1">&#39;navigation_depth&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="page-level-configuration">
<h3>Page-level configuration<a class="headerlink" href="#page-level-configuration" title="Permalink to this headline">¶</a></h3>
<p>Pages support metadata that changes how the theme renders. You can
currently add the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">:github_url:</span></code> This will force the “Edit on GitHub” to the
configured URL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">:bitbucket_url:</span></code> This will force the “Edit on Bitbucket” to the
configured URL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">:gitlab_url:</span></code> This will force the “Edit on GitLab” to the
configured URL</p></li>
</ul>
</div>
<div class="section" id="how-the-table-of-contents-builds">
<h3>How the Table of Contents builds<a class="headerlink" href="#how-the-table-of-contents-builds" title="Permalink to this headline">¶</a></h3>
<p>Currently the left menu will build based upon any <code class="docutils literal notranslate"><span class="pre">toctree(s)</span></code> defined
in your index.rst file. It outputs 2 levels of depth, which should give
your visitors a high level of access to your docs. If no toctrees are
set the theme reverts to sphinx’s usual local toctree.</p>
<p>It’s important to note that if you don’t follow the same styling for
your rST headers across your documents, the toctree will misbuild, and
the resulting menu might not show the correct depth when it renders.</p>
<p>Also note that the table of contents is set with <code class="docutils literal notranslate"><span class="pre">includehidden=true</span></code>.
This allows you to set a hidden toc in your index file with the
<a class="reference external" href="http://sphinx-doc.org/markup/toctree.html">hidden</a> property that
will allow you to build a toc without it rendering in your index.</p>
<p>By default, the navigation will “stick” to the screen as you scroll.
However if your toc is vertically too large, it will revert to static
positioning. To disable the sticky nav altogether change the setting in
<code class="docutils literal notranslate"><span class="pre">conf.py</span></code>.</p>
</div>
<div class="section" id="make-the-theme-compatible-with-readthedocs">
<h3>Make the theme compatible with ReadTheDocs<a class="headerlink" href="#make-the-theme-compatible-with-readthedocs" title="Permalink to this headline">¶</a></h3>
<p>Currently if you import stanford_theme in your local sphinx build, then
pass that same config to Read the Docs, it will fail, since RTD gets
confused. If you want to run this theme locally and then also have it
build on RTD, then you can add something like this to your config.
Thanks to Daniel Oaks for this.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># on_rtd is whether we are on readthedocs.org, this line of code grabbed from docs.readthedocs.org</span>
<span class="n">on_rtd</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;READTHEDOCS&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;True&#39;</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">on_rtd</span><span class="p">:</span>  <span class="c1"># only import and set the theme if we&#39;re building docs locally</span>
    <span class="kn">import</span> <span class="nn">sphinx_theme</span>
    <span class="n">html_theme</span> <span class="o">=</span> <span class="s1">&#39;stanford_theme&#39;</span>
    <span class="n">html_theme_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">sphinx_theme</span><span class="o">.</span><span class="n">get_html_theme_path</span><span class="p">(</span><span class="s1">&#39;stanford_theme&#39;</span><span class="p">)]</span>

<span class="c1"># otherwise, readthedocs.org uses their theme by default, so no need to specify it</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="editing-the-theme">
<h2>Editing the theme<a class="headerlink" href="#editing-the-theme" title="Permalink to this headline">¶</a></h2>
<p>The theme is primarily a <a class="reference external" href="http://www.sass-lang.com">sass</a> project
that requires a few other sass libraries. I’m using
<a class="reference external" href="http://www.bower.io">bower</a> to manage these dependencies and
<a class="reference external" href="http://www.sass-lang.com">sass</a> to build the css. The good news is I
have a very nice set of <a class="reference external" href="http://www.gruntjs.com">grunt</a> operations
that will not only load these dependencies, but watch for changes,
rebuild the sphinx demo docs and build a distributable version of the
theme. The bad news is this means you’ll need to set up your environment
similar to that of a front-end developer (vs. that of a python
developer). That means installing node and ruby.</p>
<div class="section" id="set-up-your-environment">
<h3>Set up your environment<a class="headerlink" href="#set-up-your-environment" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Install <a class="reference external" href="http://www.sphinx-doc.org">sphinx</a> into a virtual
environment.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">sphinx</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Install sass</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gem</span> <span class="n">install</span> <span class="n">sass</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Install node, bower and grunt.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Install</span> <span class="n">node</span>
<span class="n">brew</span> <span class="n">install</span> <span class="n">node</span>

<span class="o">//</span> <span class="n">Install</span> <span class="n">bower</span> <span class="ow">and</span> <span class="n">grunt</span>
<span class="n">npm</span> <span class="n">install</span> <span class="o">-</span><span class="n">g</span> <span class="n">bower</span> <span class="n">grunt</span><span class="o">-</span><span class="n">cli</span>

<span class="o">//</span> <span class="n">Now</span> <span class="n">that</span> <span class="n">everything</span> <span class="ow">is</span> <span class="n">installed</span><span class="p">,</span> <span class="n">let</span><span class="s1">&#39;s install the theme dependecies.</span>
<span class="n">npm</span> <span class="n">install</span>
</pre></div>
</div>
<p>Now that our environment is set up, make sure you’re in your virtual
environment, go to this repository in your terminal and run grunt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grunt</span>
</pre></div>
</div>
<p>This default task will do the following <strong>very cool things that make it
worth the trouble</strong>.</p>
<ol class="arabic simple">
<li><p>It’ll install and update any bower dependencies.</p></li>
<li><p>It’ll run sphinx and build new docs.</p></li>
<li><p>It’ll watch for changes to the sass files and build css from the
changes.</p></li>
<li><p>It’ll rebuild the sphinx docs anytime it notices a change to .rst,
.html, .js or .css files.</p></li>
</ol>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Tuguldur T. Odbadrakh.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> and ❤️  using a custom <a href="https://github.com/LinxiFan/Sphinx-theme">theme</a> based on <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>